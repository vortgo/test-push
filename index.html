<html>
<title>Firebase Messaging Demo</title>
<style>
    div {
        margin-bottom: 15px;
    }
</style>
<body>
<input id="sendPush" type="checkbox">
<script src="https://www.gstatic.com/firebasejs/5.3.0/firebase.js"></script>
<script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script>
    // TODO: Replace with your project's customized code snippet
    var config = {
        apiKey: "AIzaSyDbPBEr8gGlv9Fm7m_-Qj3lwwxjOrRJMek",
        authDomain: "qrproject-9cd0d.firebaseapp.com",
        databaseURL: "https://qrproject-9cd0d.firebaseio.com",
        projectId: "qrproject-9cd0d",
        storageBucket: "qrproject-9cd0d.appspot.com",
        messagingSenderId: "54723132095"
    };
    firebase.initializeApp(config);
    var messaging = firebase.messaging();

    $(document).on('click', '#sendPush', function(){
        if($(this).prop('checked')){
            console.log('checked');
        }else{
            console.log('not checked');
        }
    });

    messaging.onTokenRefresh(function() {
        messaging.getToken().then(function(refreshedToken) {
            console.log('Token refreshed. ' + refreshedToken);
            sendTokenToServer(refreshedToken);

        }).catch(function(err) {
            console.log('Unable to retrieve refreshed token ', err);

        });
    });

    function sendTokenToServer(token){
        console.log('Token sent to server: ' + token);
    }
</script>

<body>
</body>

</html>
